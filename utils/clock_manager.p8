pico-8 cartridge // http://www.pico-8.com
version 18
__lua__
-- clock manager for scheduling
-- tasks

clock={
	_arr={},
	new=function (self, delay_sec, call)
		add(self._arr, {
			start=time(),
			delay=delay_sec,
			callback=call
		})
	end,
	tick=function (self)
		for clk in all(self._arr) do
			if time()-clk.start>clk.delay then
				clk.callback()
				del(self._arr, clk)
			end
		end
	end,
	clear=function (self)
		self._arr={}
	end
}
__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
